import{f as r,c as q,t as d,v as i,x as t,J as a,K as s,L as F,M as c,B as h,y as w,N as A,O as j}from"./Bx4munrr.js";const D=""+new URL("cool.CQRIPRt0.webp",import.meta.url).href,C={key:0,w:"4/5"},N={key:1,"w-full":"",flex:"~ col","items-center":"","justify-center":""},T={key:2,"space-y-4":"",w:"30vw","text-3xl":""},L={"data-testid":"area","rounded-lg":"","px-4":"","py-3":"",border:"solid 1px gray-500",bg:"#B1A1FF"},M={class:"hint-item","data-testid":"area","rounded-lg":"","px-4":"","py-3":"",border:"solid 1px gray-500",bg:"#B1A1FF"},O={class:"hint-item","data-testid":"area","rounded-lg":"","px-4":"","py-3":"",border:"solid 1px gray-500",bg:"#B1A1FF"},P={"space-x-4":""},H={__name:"index",setup(R){const p=r(""),v=r(""),x=r(""),b=r(""),k=r(),B=q(()=>`background-image: url('${D}')`);async function S(){try{const o=await $fetch("https://admin.petskeeper.com.tw/api/christmas/store",{method:"POST",body:{shape:p.value,adj:v.value,abc:x.value,ans:b.value,phone:u.value}});alert(o.message)}catch(o){k.value={error:o.message}}}const u=r(""),m=r(""),y=r(!1),n=r({}),f=r(!1);async function V(){try{const o=await $fetch("https://admin.petskeeper.com.tw/api/christmas/login",{method:"POST",body:{phone:u.value,code:m.value}});o.status?(y.value=!0,o.giftStatus&&(console.log(o),f.value=o.giftStatus,n.value=o.giftHint)):alert(o.message)}catch(o){k.value={error:o.message}}}const g=r(),U=()=>{g.value==n.value.ans?alert("答對了"):alert("答錯了")};return(o,e)=>(d(),i("div",{class:"app",flex:"","items-center":"","justify-center":"","h-screen":"",bg:"cover center no-repeat",style:A(j(B)),"w-screen":""},[y.value?c("",!0):(d(),i("div",C,[t("form",{onSubmit:F(V,["prevent"]),flex:"~ col",w:"30vw","gap-y-4":""},[a(t("input",{"w-full":"","rounded-full":"","px-4":"","py-3":"",border:"solid 1px gray-400","onUpdate:modelValue":e[0]||(e[0]=l=>u.value=l),type:"phone",placeholder:"手機號碼(ex:0988123456)",required:""},null,512),[[s,u.value]]),a(t("input",{"w-full":"","rounded-full":"","px-4":"","py-3":"",border:"solid 1px gray-400","onUpdate:modelValue":e[1]||(e[1]=l=>m.value=l),type:"text",placeholder:"驗證碼(第一次登入會發送驗證碼)",required:""},null,512),[[s,m.value]]),e[7]||(e[7]=t("button",{"w-full":"","aria-label":"this is a button","box-border":"","cursor-pointer":"","rounded-md":"","border-none":"","px-3":"","py-2":"",text:"hover:white",bg:"red-400 hover:red-800",type:"submit"},"送出",-1))],32)])),y.value&&!f.value?(d(),i("div",N,[e[9]||(e[9]=t("h1",{text:"3xl white",bg:"black/70","px-4":"","py-3":"","rounded-xl":""},"請填寫您想要的禮物提示於下方",-1)),t("form",{onSubmit:F(S,["prevent"]),flex:"~ col","gap-y-4":"",w:"1/2"},[a(t("input",{"w-full":"","rounded-full":"","px-4":"","py-3":"",border:"solid 1px gray-400","onUpdate:modelValue":e[2]||(e[2]=l=>p.value=l),type:"text",placeholder:"請輸入禮物的形狀",required:""},null,512),[[s,p.value]]),a(t("input",{"w-full":"","rounded-full":"","px-4":"","py-3":"",border:"solid 1px gray-400","onUpdate:modelValue":e[3]||(e[3]=l=>v.value=l),type:"text",placeholder:"請輸入形容禮物的兩個形容詞",required:""},null,512),[[s,v.value]]),a(t("input",{"w-full":"","rounded-full":"","px-4":"","py-3":"",border:"solid 1px gray-400","onUpdate:modelValue":e[4]||(e[4]=l=>x.value=l),type:"text",placeholder:"請輸入禮物全名的注音聲母(ex:電鍋 ->ㄉㄍ)",required:""},null,512),[[s,x.value]]),a(t("input",{"w-full":"","rounded-full":"","px-4":"","py-3":"",border:"solid 1px gray-400","onUpdate:modelValue":e[5]||(e[5]=l=>b.value=l),type:"text",placeholder:"請輸入禮物全名",required:""},null,512),[[s,b.value]]),e[8]||(e[8]=t("button",{"aria-label":"this is a button","box-border":"","cursor-pointer":"","rounded-md":"","border-none":"","px-3":"","py-2":"",text:"hover:white",bg:"#D3FBBD hover:#14518B",type:"submit"},"送出",-1))],32)])):c("",!0),f.value?(d(),i("div",T,[t("div",L,[e[10]||(e[10]=t("strong",null,"禮物形狀：",-1)),h(w(n.value.shape),1)]),t("div",M,[e[11]||(e[11]=t("strong",null,"禮物形容詞：",-1)),h(w(n.value.adj),1)]),t("div",O,[e[12]||(e[12]=t("strong",null,"禮物字母組合：",-1)),h(w(n.value.abc),1)]),t("div",P,[a(t("input",{"onUpdate:modelValue":e[6]||(e[6]=l=>g.value=l),type:"text",placeholder:"答案",text:"placeholder:white",required:"","px-3":"","py-2":"","rounded-full":"",bg:"#F9C236",border:"solid 1px #FFD55A","outline-none":""},null,512),[[s,g.value]]),t("button",{onClick:U,"aria-label":"this is a button","box-border":"","cursor-pointer":"","rounded-md":"","border-none":"","px-3":"","py-2":"",text:"hover:white",bg:"#924317 hover:#8d6942"},"確認答案")])])):c("",!0)],4))}};export{H as default};
